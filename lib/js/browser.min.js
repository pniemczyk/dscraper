var bind=function(a,b){return function(){return a.apply(b,arguments)}},extend=function(a,b){function c(){this.constructor=a}for(var d in b)hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},hasProp={}.hasOwnProperty;$(function(){var a,b,c,d;return a=function(){function a(a){this.schema_list=null!=a?a:{}}return a.prototype.default_shema_list={linkedin:{fields:{full_name:{selector:"#name"}},init_after:function(a){var b;return b=a.full_name.split(" "),a.first_name=b[0],a.last_name=b[1],a}}},a.prototype.extract=function(a,b){var c,d,e;e=this.schema_list[a]||this.default_shema_list[a],c={};for(d in e.fields)c[d]=$.trim($(e.fields[d].selector).text());return e.init_after(c)},a}(),d=function(){function a(a){this.object=a}return a.prototype.build=function(){return JSON.stringify(this.object)},a}(),b=function(a){function b(){return this.onClickExtract=bind(this.onClickExtract,this),this.onClickContact=bind(this.onClickContact,this),this.onClickAbout=bind(this.onClickAbout,this),this.onClickHome=bind(this.onClickHome,this),b.__super__.constructor.apply(this,arguments)}return extend(b,a),b.prototype.el="#nav",b.prototype.initialize=function(a){return this.controller=a.controller},b.prototype.events={"click #nav_home":"onClickHome","click #nav_extract":"onClickExtract","click #nav_about":"onClickAbout","click #nav_contact":"onClickContact"},b.prototype.onClickHome=function(){return this.controller.showPage("home")},b.prototype.onClickAbout=function(){return this.controller.showPage("about")},b.prototype.onClickContact=function(){return this.controller.showPage("contact")},b.prototype.onClickExtract=function(){return this.controller.showPage("extract")},b}(Backbone.View),new(c=function(){function a(){this.extractInit=bind(this.extractInit,this),this.showPage=bind(this.showPage,this),this.navView=new b({controller:this})}return a.prototype.showPage=function(a){return $(".js-page-content").hide(),"extract"===a&&this.extractInit(),$("#page_"+a).fadeIn()},a.prototype.extractInit=function(){return chrome.tabs.getSelected(null,function(a){return function(b){return b.url.toLowerCase().indexOf("linkedin.com")>0?a.extractLinkedIn(b):void 0}}(this))},a.prototype.extractLinkedIn=function(a){return chrome.pageCapture.saveAsMHTML({tabId:a.id},function(a){var b;return b=new FileReader,b.addEventListener("loadend",function(a){return console.log(a.srcElement.result)}),b.readAsText(a),!1})},a}())});